# ToT ì‹¤ì œ ì‚¬ë¡€: iOS ì•± ì‹œì‘ ì‹œê°„ ìµœì í™”

## ğŸ› ë¬¸ì œ ì •ì˜
```markdown
ë¬¸ì œ ì¦ìƒ: Alarmy iOS ì•± ì‹œì‘ ì‹œ 10ì´ˆ ì´ìƒ ê±¸ë¦¼
ë°œìƒ í™˜ê²½: iOS 15+, iPhone 12 ì´ìƒ
ë°œìƒ ë¹ˆë„: í•­ìƒ ë°œìƒ
ì˜í–¥ ë²”ìœ„: ì „ì²´ ì‚¬ìš©ì (500ë§Œ+)
```

---

## ğŸŒ³ Level 1: ì›ì¸ ì¹´í…Œê³ ë¦¬ íƒìƒ‰

### 1.1 ğŸ§  ë¬´ê±°ìš´ ì´ˆê¸°í™” ë¡œì§
```markdown
ê°€ëŠ¥ì„±: HIGH
ê·¼ê±°: AppDelegateì—ì„œ ë§ì€ SDK ì´ˆê¸°í™”
ê²€ì¦ ë°©ë²•:
- âœ… Time Profiler ì‹¤í–‰
- âœ… ê° ì´ˆê¸°í™” ë‹¨ê³„ ì‹œê°„ ì¸¡ì •
```

### 1.2 ğŸ’¾ Core Data ë™ê¸° ë¡œë”©
```markdown
ê°€ëŠ¥ì„±: HIGH
ê·¼ê±°: ëŒ€ìš©ëŸ‰ ì•ŒëŒ ë°ì´í„° ë™ê¸° ë¡œë“œ
ê²€ì¦ ë°©ë²•:
- âœ… Core Data ì¿¼ë¦¬ ë¶„ì„
- âœ… ë©”ì¸ ìŠ¤ë ˆë“œ ë¸”ë¡œí‚¹ í™•ì¸
```

### 1.3 ğŸŒ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ëŒ€ê¸°
```markdown
ê°€ëŠ¥ì„±: MEDIUM
ê·¼ê±°: Firebase ì´ˆê¸°í™” ì¤‘ ë„¤íŠ¸ì›Œí¬ ëŒ€ê¸°
ê²€ì¦ ë°©ë²•:
- âœ… ë„¤íŠ¸ì›Œí¬ ë¡œê·¸ í™•ì¸
- âœ… íƒ€ì„ì•„ì›ƒ ì„¤ì • ê²€í† 
```

### 1.4 ğŸ–¼ï¸ ë¦¬ì†ŒìŠ¤ í”„ë¦¬ë¡œë”©
```markdown
ê°€ëŠ¥ì„±: MEDIUM
ê·¼ê±°: ì´ë¯¸ì§€, ì‚¬ìš´ë“œ íŒŒì¼ ì‚¬ì „ ë¡œë”©
ê²€ì¦ ë°©ë²•:
- âœ… ë¦¬ì†ŒìŠ¤ ë¡œë”© ì‹œê°„ ì¸¡ì •
- âœ… ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ í™•ì¸
```

### 1.5 âš™ï¸ ì¨ë“œíŒŒí‹° SDK ì´ˆê¸°í™”
```markdown
ê°€ëŠ¥ì„±: HIGH
ê·¼ê±°: 15ê°œ ì´ìƒì˜ SDK ë™ì‹œ ì´ˆê¸°í™”
ê²€ì¦ ë°©ë²•:
- âœ… ê° SDK ì´ˆê¸°í™” ì‹œê°„ ì¸¡ì •
- âœ… í•„ìˆ˜/ì„ íƒì  SDK ë¶„ë¥˜
```

### ğŸ“Š Level 1 í‰ê°€ ê²°ê³¼
```markdown
âœ… ì„ íƒëœ ì¹´í…Œê³ ë¦¬:
1. ì¨ë“œíŒŒí‹° SDK (3.2ì´ˆ)
2. Core Data ë¡œë”© (2.8ì´ˆ)
3. ë¬´ê±°ìš´ ì´ˆê¸°í™” (2.5ì´ˆ)
```

---

## ğŸŒ¿ Level 2: êµ¬ì²´ì  ì›ì¸ ë¶„ì„

### 2.1 ì¨ë“œíŒŒí‹° SDK ì‹¬í™” ë¶„ì„
```markdown
#### Firebase (1.2ì´ˆ)
- Analytics ì´ˆê¸°í™”: 0.5ì´ˆ
- Crashlytics: 0.4ì´ˆ
- Remote Config: 0.3ì´ˆ

#### Facebook SDK (0.8ì´ˆ)
- ì„¸ì…˜ ì´ˆê¸°í™”: 0.5ì´ˆ
- ì´ë²¤íŠ¸ ë¡œê¹… ì„¤ì •: 0.3ì´ˆ

#### AdMob (0.7ì´ˆ)
- ê´‘ê³  í”„ë¦¬ë¡œë“œ: 0.4ì´ˆ
- ë¯¸ë””ì—ì´ì…˜ ì„¤ì •: 0.3ì´ˆ

#### ê¸°íƒ€ SDK (0.5ì´ˆ)
- Amplitude, Adjust ë“±
```

### 2.2 Core Data ì‹¬í™” ë¶„ì„
```markdown
#### ë©”ì¸ ìŠ¤ë ˆë“œ ë¸”ë¡œí‚¹ (2.8ì´ˆ)
- 10,000ê°œ ì•ŒëŒ ë ˆì½”ë“œ ë¡œë“œ: 1.5ì´ˆ
- ê´€ê³„ ë°ì´í„° í˜ì¹­: 0.8ì´ˆ
- ë§ˆì´ê·¸ë ˆì´ì…˜ ì²´í¬: 0.5ì´ˆ
```

### 2.3 ì´ˆê¸°í™” ë¡œì§ ì‹¬í™” ë¶„ì„
```markdown
#### AppDelegate ì´ˆê¸°í™” (2.5ì´ˆ)
- UI ì„¤ì •: 0.8ì´ˆ
- ì‚¬ìš´ë“œ ë§¤ë‹ˆì €: 0.7ì´ˆ
- ë…¸í‹°í”¼ì¼€ì´ì…˜ ì„¤ì •: 0.5ì´ˆ
- ë”¥ë§í¬ í•¸ë“¤ëŸ¬: 0.5ì´ˆ
```

---

## ğŸƒ Level 3: í•´ê²°ì±… ì‹¤í–‰

### ì„ íƒëœ ì†”ë£¨ì…˜: SDK ì§€ì—° ì´ˆê¸°í™” + Core Data ë¹„ë™ê¸°í™”

#### êµ¬í˜„ ì½”ë“œ
```swift
// BEFORE: AppDelegate.swift
func application(_ application: UIApplication,
                didFinishLaunchingWithOptions: [UIApplication.LaunchOptionsKey: Any]?) -> Bool {
    // ëª¨ë“  SDK ë™ì‹œ ì´ˆê¸°í™” (10ì´ˆ)
    FirebaseApp.configure()
    FacebookSDK.initialize()
    AdMob.initialize()
    CoreDataManager.shared.loadAllData()
    // ... 15ê°œ SDK

    return true
}

// AFTER: ìµœì í™”ëœ ë²„ì „
func application(_ application: UIApplication,
                didFinishLaunchingWithOptions: [UIApplication.LaunchOptionsKey: Any]?) -> Bool {
    // í•„ìˆ˜ SDKë§Œ ì´ˆê¸°í™” (0.8ì´ˆ)
    FirebaseApp.configure()

    // ì§€ì—° ì´ˆê¸°í™”ë¥¼ ìœ„í•œ í ì„¤ì •
    DispatchQueue.main.asyncAfter(deadline: .now() + 0.1) {
        self.initializeNonCriticalSDKs()
    }

    // Core Data ë¹„ë™ê¸° ë¡œë“œ
    CoreDataManager.shared.loadInitialDataAsync { [weak self] in
        self?.dataLoadComplete()
    }

    return true
}

private func initializeNonCriticalSDKs() {
    // ìš°ì„ ìˆœìœ„ë³„ ìˆœì°¨ ì´ˆê¸°í™”
    let sdkQueue = DispatchQueue(label: "sdk.init", qos: .background)

    sdkQueue.async {
        // Priority 1: Analytics (ë°±ê·¸ë¼ìš´ë“œ)
        FacebookSDK.initialize()
        AmplitudeSDK.initialize()

        // Priority 2: Monetization
        DispatchQueue.main.async {
            AdMob.initialize()
        }

        // Priority 3: Others
        self.initializeRemainingSDKs()
    }
}
```

#### Core Data ìµœì í™”
```swift
// BEFORE: ë™ê¸° ë¡œë”©
func loadAllData() {
    let request = NSFetchRequest<Alarm>(entityName: "Alarm")
    let alarms = try? context.fetch(request) // 2.8ì´ˆ ë¸”ë¡œí‚¹
    self.alarms = alarms ?? []
}

// AFTER: ë¹„ë™ê¸° + í˜ì´ì§•
func loadInitialDataAsync(completion: @escaping () -> Void) {
    persistentContainer.performBackgroundTask { context in
        // ìµœê·¼ 7ì¼ ì•ŒëŒë§Œ ì´ˆê¸° ë¡œë“œ
        let request = NSFetchRequest<Alarm>(entityName: "Alarm")
        request.predicate = NSPredicate(format: "date >= %@", Date().addingDays(-7))
        request.fetchLimit = 100

        do {
            let recentAlarms = try context.fetch(request)

            DispatchQueue.main.async {
                self.updateUI(with: recentAlarms)
                completion()

                // ë‚˜ë¨¸ì§€ ë°ì´í„°ëŠ” ë°±ê·¸ë¼ìš´ë“œì—ì„œ ë¡œë“œ
                self.loadRemainingDataInBackground()
            }
        } catch {
            print("Error loading data: \(error)")
        }
    }
}
```

---

## ğŸ“Š ì‹¤í–‰ ê²°ê³¼

### ì„±ëŠ¥ ê°œì„  ì¸¡ì •
```markdown
ì‹œì‘ ì‹œê°„ ë³€í™”:
- Before: 10.2ì´ˆ
- After: 1.8ì´ˆ
- ê°œì„ ìœ¨: 82.4% ğŸ‰

ìƒì„¸ ë¶„ì„:
| êµ¬ë¶„ | Before | After | ê°œì„  |
|------|--------|-------|------|
| SDK ì´ˆê¸°í™” | 3.2ì´ˆ | 0.5ì´ˆ | 84% |
| Core Data | 2.8ì´ˆ | 0.3ì´ˆ | 89% |
| UI ì´ˆê¸°í™” | 2.5ì´ˆ | 0.8ì´ˆ | 68% |
| ê¸°íƒ€ | 1.7ì´ˆ | 0.2ì´ˆ | 88% |
```

### ì‚¬ìš©ì ì²´ê° ê°œì„ 
```markdown
ì•± ìŠ¤í† ì–´ ë¦¬ë·°:
- "ì•±ì´ ë¹¨ë¼ì¡Œì–´ìš”!" â­â­â­â­â­
- "ì‹œì‘ì´ í›¨ì”¬ ë¹¨ë¼ì§" â­â­â­â­â­

ë©”íŠ¸ë¦­:
- D1 Retention: 72% â†’ 78% (+6%)
- ì•± ì‚­ì œìœ¨: 15% â†’ 11% (-4%)
- í‰ì : 4.2 â†’ 4.5 (+0.3)
```

---

## ğŸ“ êµí›ˆê³¼ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤

### ë°°ìš´ ì 
1. **SDK ì´ˆê¸°í™”ëŠ” ì„ ë³„ì ìœ¼ë¡œ**
   - í•„ìˆ˜ SDKë§Œ ì¦‰ì‹œ ì´ˆê¸°í™”
   - ë‚˜ë¨¸ì§€ëŠ” ì§€ì—°/ë°±ê·¸ë¼ìš´ë“œ ì´ˆê¸°í™”

2. **Core DataëŠ” í•­ìƒ ë¹„ë™ê¸°ë¡œ**
   - ë©”ì¸ ìŠ¤ë ˆë“œ ë¸”ë¡œí‚¹ ì ˆëŒ€ ê¸ˆì§€
   - í•„ìš”í•œ ë°ì´í„°ë§Œ ìš°ì„  ë¡œë“œ

3. **ì¸¡ì • ì—†ì´ ìµœì í™” ì—†ë‹¤**
   - Time Profilerë¡œ ì •í™•í•œ ë³‘ëª© íŒŒì•…
   - ê°€ì •ì´ ì•„ë‹Œ ë°ì´í„° ê¸°ë°˜ ì˜ì‚¬ê²°ì •

### ì ìš©ëœ íŒ¨í„´
```swift
// ì§€ì—° ì´ˆê¸°í™” íŒ¨í„´
class SDKManager {
    static let shared = SDKManager()
    private var isInitialized = false

    func initializeWhenNeeded() {
        guard !isInitialized else { return }

        DispatchQueue.global(qos: .background).async {
            self.performInitialization()
            self.isInitialized = true
        }
    }
}

// ì ì§„ì  ë°ì´í„° ë¡œë”©
class DataLoader {
    func loadData() {
        loadCriticalData()

        DispatchQueue.main.asyncAfter(deadline: .now() + 1.0) {
            self.loadSecondaryData()
        }

        DispatchQueue.main.asyncAfter(deadline: .now() + 5.0) {
            self.loadRemainingData()
        }
    }
}
```

### ì¶”ê°€ ê°œì„  ì•„ì´ë””ì–´
```markdown
1. ìŠ¤í”Œë˜ì‹œ í™”ë©´ ìµœì í™”
2. í”„ë¦¬ì›Œë° ê¸°ë²• ì ìš©
3. ìºì‹œ ì „ëµ ê°œì„ 
4. ëª¨ë“ˆ ì§€ì—° ë¡œë”©
```

---

## ğŸ“ˆ ì¥ê¸° íš¨ê³¼

### 3ê°œì›” í›„ ì¸¡ì •
```markdown
ê¸°ìˆ ì  ì„±ê³¼:
- í‰ê·  ì‹œì‘ ì‹œê°„: 1.8ì´ˆ â†’ 1.5ì´ˆ
- í¬ë˜ì‹œìœ¨: 0.5% â†’ 0.3%
- ë©”ëª¨ë¦¬ ì‚¬ìš©: -20%

ë¹„ì¦ˆë‹ˆìŠ¤ ì„±ê³¼:
- MAU: +12%
- ìœ ë£Œ ì „í™˜ìœ¨: +8%
- ì•± ìŠ¤í† ì–´ í‰ì : 4.5 â†’ 4.7
```

---
*ì´ ì‚¬ë¡€ëŠ” ì‹¤ì œ ì•± ìµœì í™” ê²½í—˜ì„ ë°”íƒ•ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.*